{"version":3,"sources":["components/Header.js","images/logo.png","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","utils/api.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","utils/auth.js","images/failure.svg","images/success.svg","components/InfoTooltip.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","className","src","alt","exact","path","email","onClick","onSignOut","to","CurrentUserContext","React","createContext","Card","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","type","onCardDelete","link","name","onCardClick","onCardLike","length","Main","avatar","onEditAvatar","about","onEditProfile","onAddPlace","cards","map","item","Footer","PopupWithForm","isOpen","onClose","title","action","onSubmit","children","submitButtonText","ImagePopup","api","options","this","_baseUrl","baseUrl","_headers","headers","url","fetch","then","_checkResponseStatus","method","body","JSON","stringify","cardId","res","ok","json","Promise","reject","status","authorization","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","value","onChange","target","id","placeholder","required","minLength","maxLength","avatarRef","useRef","current","onUpdateAvatar","ref","AddPlacePopup","setLink","Login","setEmail","password","setPassword","handleLogin","Register","onRegister","ProtectedRoute","Component","component","loggedIn","BASE_URL","checkResponseStatus","InfoTooltip","isSuccess","success","failure","App","setCurrentUser","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isImagePopupOpen","setIsImagePopupOpen","selectedCard","setSelectedCard","setCards","setLoggedIn","userEmail","setUserEmail","setIsSuccess","isInfoTooltipOpen","setIsInfoTooltipOpen","history","useHistory","closeAllPopups","getUserInfo","data","catch","err","console","log","getInitialCards","token","localStorage","getItem","auth","push","closeByEscape","key","document","addEventListener","removeEventListener","Provider","removeItem","putLike","newCard","state","c","deleteCard","filter","finally","setItem","setUserInfo","EditAvatarPopup","setUserAvatar","addNewCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.5bfb7adc.chunk.js","sourcesContent":["import React from 'react';\r\nimport logo from '../images/logo.png';\r\nimport { Route, Switch, Link } from 'react-router-dom';\r\n\r\nfunction Header(props) {\r\n\r\n    return (\r\n        <header className=\"header\">\r\n        <img className=\"header__logo\" src={logo} alt=\"Логотип Место\" />\r\n        <Switch>\r\n            <Route exact path=\"/\">\r\n                    <div className=\"header__list\">\r\n                        <p className=\"header__item\">{props.email}</p>\r\n                        <button className=\"header__item header__link\" onClick={props.onSignOut}>Выйти</button>\r\n                    </div>\r\n            </Route>\r\n\r\n            <Route path=\"/sign-in\">\r\n                    <Link to=\"/sign-up\" className=\"header__item header__link\">Регистрация</Link>\r\n            </Route>\r\n\r\n            <Route path=\"/sign-up\">\r\n                    <Link to=\"/sign-in\" className=\"header__item header__link\">Войти</Link>\r\n            </Route>\r\n        </Switch>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAI4AAAAhCAYAAAAPt5MzAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAZLSURBVHgB7VvhdeI4EJ7cu//rreB8FcRXwXkr2GwFOBWEqwCngrAVmFQQqMBsBaQDkwqyV8GsJh4vwyDJMhBiEn/vCSx5NMjSp9F4JAAGnA0QsTCpFGliUgSvAKO3MimDAecPHsyxSSmnGREIXgFG79VrkXLAicHESUU+whr0nRCp1L07kU/ZYlFKRHlMclyeiXKyZrHQNWEZko3/gAHnjEhdf1X5K7pgohQmLUy6N+mhIYUBWawnLh8J8qUmNTIrkz6zzP+k608YcG644kEnYoxM+n5xcfHTlPnqEHHWRm7O+b/pQ+iZm3trk38kXZb6/zTlJGO+JoPFOT98gtoSkHWhgR4H1CHCPJlBf2anOqNCIov5+m5Syb7SyOHX0DJHVqqC2vr8Xvu2EhwIXhO13gQGHATp47BvUgk/JJWOMvs8lUVHyvWuVHnC5JhyvmTZ2OJb4cuHBQd50+xEaRQw4CBYBjCnwebrmC1KzBN31hCHLAw5t6JeyWVxU5/LJ804CeIkrDfi8hsaTJePQ+Yvh/2RwjsDz1BpNWds6k+JtcqTdaABTkxbHs03LTu0lJA/8p9Jf7EcLVUP7PjSvYWRn9ENU/ayhHE56b/mOuQwg9BLpKX7ixc5h8V53tfqMJPxvVkcnsESKXxguJxjIk0K++EGBrx7+N6qOhMAawd4cII/AHzE2ecNa7A2HwUW30Zi2kFPjH4E+Ti4CW+Xqj10TQ5eBh3g0Ye42SiMHXUz3Gwo6ror3N5wTFraQRORwvWVRU+B5+YzWTqyVIMV5CTjrlNc6HyAjhvcHSAbKnQMttI3CtRHMmNL/RzDkTraQMQtAnUUIc/VC6iGl1jPDImQyGQTY2hQWfQULfUn2A002IlH3w12hw6KHUQc3ATPuqDCcyCPanTJZXKWrgJ0aJJk2IE4aH+FL3ATuaREezQrSydHFn22AZvi7q7wTMlsWViWaSLfD0pWHm9IHe0oLfpz8VwJ66mUXGufvzlUgxvi6JmWtugolHzT4RI+4lRKNvPITpVsbpG56vDbWt/YIdcpjoO7k6FCty9lI3oOfYZqbEOcyFbuqB/bBgkDiWPp4Bza21wJ+WfLfU38zKOLnpVmfbPr7JLrSpxVaBtYXvfXM/QZ6CAI7prZyFG/sHUohhOn7NpZPNASScv9OzgQ2IE4uDuZqsDfKEN/463hi+PcqrzLSU7FNZ35WEI3pOL6B4ThUeWTlvtjPO0rr27PAsKwaNHTGzgPchEBsD600zSegnu5lMHa/Mai6BY6AHeXhksMO0OrrV8sM9z2JWyTMqNkymkzj56LSLrcg+gh0AO+hDCsVf4Seoq2E4A0A5pOeDljozp6JK5pQObQDbElH8Nx8A3q3eORKm/24ShNsD45NzPp9oi73bHK/4QwaEv5GXqKthOA1PHyoeWZjhi2Z/TccezQh67ywaC2mJRBfUxg2SJOchWKMytvBG1JP0FP4SUOE+FeFKXCEdWd3GmZYmji0BmXfZC7foDOnZj0hYRM9gvU51TIMq4t4vmR/KC1yscQhqhFT28QcuZYLz8Zv2HJKOtyHzPPdSR5YnhF0DJr0tSkbybRgW0i0lqJBUXKW7BW+VAnV8s9QU/RShz2aZaiiHwGcpTl7LiH/SHX9QRP+CcwfrZrVXwMh3Sp8iMIw9cWPb1B6L8c5GsiDWwu8uvmGOKe0Lpb/Qzc7HbTbnOmycZxHHr9piDcQ4u6R9gPToKzJV1KWWwPAJIFT0XRPqGN00EFnEqHDD24a5fZFdgLDQDadDuXC9wcnpaIlUyFgYE03N1cnTvk9NaEN6hoeX7npizatxwy6DNUY31bCzqMbx00IR9EHJbNLHoLrLcBEtzsfd1Z5HKLvrFF7o51Rbj5+05hkUsDn4dAG5/UL3eOOiXan+vlJYOfb4K7EyEo0vymUA3usidFmHvkg4nD8i5i+rDy6CuxO/KWNq48dROLfNRSx4YKz/VYhUe2VPKpR7YTcbhOhuHnV6YtumjQpoG6rAe5LDptS0qD8RHaQRbsZC8Hh+ACtweUHDJnPAbrWfX7XLGRvfbIxrDt6P4IdaKxXt/pDYN+L+ZiuVUwDQ02cjtoUC9ZXzMwa6FvdtEheMntG7GuiPUsfM8n2vEv1M8Uwea/TNSGea+dYYVf/O0r5VTCNw8AAAAASUVORK5CYII=\"","import React from 'react';\r\n\r\nconst CurrentUserContext = React.createContext();\r\n\r\nexport default CurrentUserContext;","import React from 'react';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\n\r\nfunction Card(props) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const isOwn = props.card.owner._id === currentUser._id;\r\n\r\n    const cardDeleteButtonClassName = (\r\n        `element__delete-button ${isOwn ? 'element__delete-button_visible' : ''}`\r\n    );\r\n\r\n    const isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n    const cardLikeButtonClassName = (\r\n        `element__like-button ${isLiked ? 'element__like-button_active' : ''}`\r\n    );\r\n\r\n    function handleClick() {\r\n        props.onCardClick(props.card);\r\n    }\r\n\r\n    function handleLikeClick() {\r\n        props.onCardLike(props.card);\r\n    }\r\n\r\n    function handleDeleteClick() {\r\n        props.onCardDelete(props.card);\r\n    }\r\n\r\n    return (\r\n        <li className=\"element\">\r\n            <button type=\"button\" className={cardDeleteButtonClassName} onClick={handleDeleteClick} aria-label=\"Удалить\"></button>\r\n            <img className=\"element__image\" src={props.card.link} alt={props.card.name} onClick={handleClick} />\r\n            <div className=\"element__info\">\r\n                <h2 className=\"element__title\">{props.card.name}</h2>\r\n                <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick} aria-label=\"Лайк\">{props.card.likes.length}</button>\r\n            </div>\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\nimport Card from './Card';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\n\r\n\r\nfunction Main(props) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    return (\r\n        <main className=\"content\">\r\n            <section className=\"profile\">\r\n                <div className=\"profile__info\">\r\n                    <img className=\"profile__avatar\" src={currentUser.avatar} alt=\"Аватар профиля\" />\r\n                    <div className=\"profile__button-background\">\r\n                        <button type=\"button\" className=\"profile__edit-avatar\" aria-label=\"Редактировать аватар\" onClick={props.onEditAvatar}></button>\r\n                    </div> \r\n                    <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n                    <p className=\"profile__role\">{currentUser.about}</p>\r\n                    <button type=\"button\" className=\"profile__edit-button\" aria-label=\"Редактировать профиль\" onClick={props.onEditProfile}></button>\r\n                </div>\r\n                <button type=\"button\" className=\"profile__add-button\" onClick={props.onAddPlace}></button>\r\n            </section>\r\n\r\n            <section className=\"elements\">\r\n                <ul className=\"elements__list\">\r\n                    {props.cards.map((item) => {\r\n                        return (\r\n                            <Card key={item._id} card={item} onCardClick={props.onCardClick} onCardLike={props.onCardLike} onCardDelete={props.onCardDelete}/>\r\n                        )\r\n                    })}\r\n                </ul>\r\n            </section>\r\n        </main>\r\n    )\r\n}\r\n\r\nexport default Main","import React from 'react';\r\n\r\nfunction Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n            <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default Footer","import React from 'react';\r\n\r\nfunction PopupWithForm(props) {\r\n    return (\r\n        <section className={`popup ${props.isOpen ? 'popup_opened' : ''} popup_type_${props.name}`}>\r\n        <div className=\"popup__container\">\r\n            <button type=\"button\" className=\"popup__close\" aria-label=\"Закрыть попап\" onClick={props.onClose}></button>\r\n            <h2 className=\"popup__title\">{props.title}</h2>\r\n            <form className=\"popup__form\" action=\"#\" name={props.name} onSubmit={props.onSubmit}>\r\n                {props.children}\r\n                <button type=\"submit\" className=\"popup__submit-button\" aria-label={props.submitButtonText}>{props.submitButtonText}</button>\r\n            </form>\r\n        </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default PopupWithForm;","import React from 'react';\r\n\r\nfunction ImagePopup(props) {\r\n    return (\r\n        <section className={`popup popup_dark popup_type_image ${props.isOpen ? 'popup_opened' : ''}`}>\r\n            <div className=\"popup__image-container\">\r\n                <button type=\"button\" className=\"popup__close\" aria-label=\"Закрыть попап\" onClick={props.onClose}></button>\r\n                <img className=\"popup__image\" src={props.card ? props.card.link : '#'} alt={props.card ? props.card.name : '#'} />\r\n                <h2 className=\"popup__name\">{props.card ? props.card.name : ''}</h2>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default ImagePopup;","class Api {\r\n    constructor(options) {\r\n        this._baseUrl = options.baseUrl;\r\n        this._headers = options.headers;\r\n    }\r\n\r\n    getUserInfo() {\r\n        const url = `${this._baseUrl}/users/me`\r\n        return fetch(url, {\r\n            headers: this._headers\r\n        })\r\n        .then(this._checkResponseStatus);\r\n    }\r\n\r\n    setUserInfo(name, about) {\r\n        const url = `${this._baseUrl}/users/me`\r\n        return fetch(url, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: name,\r\n                about: about\r\n            })\r\n        })\r\n        .then(this._checkResponseStatus);\r\n    }\r\n\r\n    addNewCard(name, link) {\r\n        const url = `${this._baseUrl}/cards`\r\n        return fetch(url, {\r\n            method: 'POST',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: name,\r\n                link: link\r\n            })\r\n        })\r\n        .then(this._checkResponseStatus);\r\n    }\r\n\r\n    getInitialCards() {\r\n        const url = `${this._baseUrl}/cards`\r\n        return fetch(url, {\r\n            headers: this._headers\r\n        })\r\n        .then(this._checkResponseStatus);\r\n    }\r\n\r\n    setUserAvatar(avatar) {\r\n        const url = `${this._baseUrl}/users/me/avatar`\r\n        return fetch(url, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                avatar: avatar\r\n            })\r\n        })\r\n        .then(this._checkResponseStatus);\r\n    }\r\n\r\n    deleteCard(cardId) {\r\n        const url = `${this._baseUrl}/cards/${cardId}`\r\n        return fetch(url, {\r\n            method: 'DELETE',\r\n            headers: this._headers\r\n        })\r\n        .then(this._checkResponseStatus);\r\n    }\r\n\r\n    putLike(cardId, isLiked) {\r\n        const url = `${this._baseUrl}/cards/likes/${cardId}`\r\n        return fetch(url, {\r\n            method: isLiked ? 'DELETE' : 'PUT',\r\n            headers: this._headers\r\n        })\r\n        .then(this._checkResponseStatus);\r\n    }\r\n\r\n    _checkResponseStatus(res) {\r\n        if (!res.ok) {\r\n            return Promise.reject(`Ошибка: ${res.status}`);\r\n        }\r\n        return res.json();\r\n    }\r\n}\r\n\r\nexport const api = new Api({\r\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-27',\r\n    headers: {\r\n        authorization: '362a2219-41f2-4a3b-84cc-680eb976a5f4',\r\n        'Content-Type': 'application/json'\r\n    }\r\n})","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup(props) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const [name, setName] = React.useState('');\r\n    const [description, setDescription] = React.useState('');\r\n\r\n    React.useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n    }, [currentUser, props.isOpen])\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        props.onUpdateUser({\r\n            name,\r\n            about: description\r\n        });\r\n    }\r\n\r\n    function handleEditName(e) {\r\n        setName(e.target.value);\r\n    }\r\n\r\n    function handleEditDescription(e){\r\n        setDescription(e.target.value);\r\n    }\r\n\r\n\r\n    return (\r\n        <PopupWithForm\r\n        title=\"Редактировать профиль\"\r\n        name=\"edit\"\r\n        isOpen={props.isOpen}\r\n        onClose={props.onClose}\r\n        submitButtonText=\"Сохранить\"\r\n        onSubmit={handleSubmit}>\r\n        <div className=\"popup__container\">\r\n                <label className=\"popup__label\">\r\n                    <input value={name || \"\"} onChange={handleEditName} type=\"text\" name=\"name\" id=\"owner-name\" placeholder=\"Имя\" className=\"popup__text popup__text_type_name\" required minLength=\"2\" maxLength=\"40\" />\r\n                    <span className=\"popup__error\" id=\"owner-name-error\"></span>\r\n                </label>\r\n                <label className=\"popup__label\">\r\n                    <input value={description || \"\"} onChange={handleEditDescription} type=\"text\" name=\"role\" id=\"owner-role\" placeholder=\"О себе\" className=\"popup__text popup__text_type_role\" required minLength=\"2\" maxLength=\"200\" />\r\n                    <span className=\"popup__error\" id=\"owner-role-error\"></span>\r\n                </label>          \r\n        </div>\r\n    </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditProfilePopup(props) {\r\n    const avatarRef = React.useRef();\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onUpdateAvatar({\r\n            avatar: avatarRef.current.value\r\n        });\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        avatarRef.current.value = ''\r\n    }, [props.isOpen])\r\n\r\n    return (\r\n        <PopupWithForm\r\n        title=\"Обновить аватар\"\r\n        name=\"avatar\"\r\n        isOpen={props.isOpen}\r\n        onClose={props.onClose}\r\n        submitButtonText=\"Сохранить\"\r\n        onSubmit={handleSubmit}>\r\n            <div className=\"popup__container\">\r\n                    <label className=\"popup__label\">\r\n                        <input ref={avatarRef} type=\"url\" name=\"link\" id=\"avatar-pic\" className=\"popup__text\" placeholder=\"Ссылка на аватар\" required />\r\n                        <span className=\"popup__error\" id=\"avatar-pic-error\"></span>\r\n                    </label>\r\n            </div>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup(props) {\r\n    const [name, setName] = React.useState('');\r\n    const [link, setLink] = React.useState('');\r\n\r\n    function handleAddPlaceName(e) {\r\n        setName(e.target.value);\r\n    }\r\n\r\n    function handleAddPlaceLink(e){\r\n        setLink(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        props.onAddPlace({\r\n            name,\r\n            link\r\n        })\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        setName('');\r\n        setLink('');\r\n    }, [props.isOpen])\r\n\r\n    return (\r\n        <PopupWithForm\r\n        title=\"Новое место\"\r\n        name=\"new-card\"\r\n        isOpen={props.isOpen}\r\n        onClose={props.onClose}\r\n        submitButtonText=\"Создать\"\r\n        onSubmit={handleSubmit}>\r\n            <div className=\"popup__container\">\r\n                    <label className=\"popup__label\">\r\n                        <input value={name || \"\"} onChange={handleAddPlaceName} type=\"text\" name=\"place\" id=\"place\" placeholder=\"Название\" className=\"popup__text popup__text_type_place\" required minLength=\"2\" maxLength=\"30\" />\r\n                        <span className=\"popup__error\" id=\"place-error\"></span>\r\n                    </label>\r\n                    <label className=\"popup__label\">\r\n                        <input value={link || \"\"} onChange={handleAddPlaceLink} type=\"url\" name=\"link\" id=\"link\" placeholder=\"Ссылка на картинку\" className=\"popup__text popup__text_type_link\" required />\r\n                        <span className=\"popup__error\" id=\"link-error\"></span>\r\n                    </label>\r\n            </div>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react';\r\n\r\nfunction Login(props) {\r\n    const [email, setEmail] = React.useState('');\r\n    const [password, setPassword] = React.useState('');\r\n\r\n    function handleEmailEdit(e) {\r\n        setEmail(e.target.value);\r\n    }\r\n\r\n    function handlePasswordEdit(e) {\r\n        setPassword(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        if (!email || !password) {\r\n            return;\r\n        }\r\n        setEmail('');\r\n        setPassword('');\r\n        props.handleLogin(email, password);\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"reg-login\">\r\n            <div className=\"reg-login__container\">\r\n                <h2 className=\"reg-login__title\">Вход</h2>\r\n                <form className=\"reg-login__form\" name=\"login\" action=\"#\" onSubmit={handleSubmit}>\r\n                    <input value={email} onChange={handleEmailEdit} className=\"reg-login__input\" id=\"email\" name=\"email\" type=\"email\" placeholder=\"Email\" required></input>\r\n                    <input value={password} onChange={handlePasswordEdit} className=\"reg-login__input\" id=\"password\" name=\"password\" type=\"password\" placeholder=\"Пароль\" required></input>\r\n                    <button className=\"reg-login__button\" type=\"submit\">Войти</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Register(props) {\r\n    const [email, setEmail] = React.useState('');\r\n    const [password, setPassword] = React.useState('');\r\n\r\n    function handlePasswordEdit(e) {\r\n        setPassword(e.target.value);\r\n    }\r\n\r\n    function handleEmailEdit(e) {\r\n        setEmail(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onRegister(email, password)\r\n    }\r\n\r\n    return (\r\n        <div className=\"reg-login\">\r\n            <div className=\"reg-login__container\">\r\n                <h2 className=\"reg-login__title\">Регистрация</h2>\r\n                <form className=\"reg-login__form\" name=\"login\" action=\"#\" onSubmit={handleSubmit}>\r\n                    <input value={email} onChange={handleEmailEdit} className=\"reg-login__input\" id=\"email\" name=\"email\" type=\"email\" placeholder=\"Email\" required></input>\r\n                    <input value={password} onChange={handlePasswordEdit} className=\"reg-login__input\" id=\"password\" name=\"password\" type=\"password\" placeholder=\"Пароль\" required></input>\r\n                    <button className=\"reg-login__button\" type=\"submit\">Зарегистрироваться</button>\r\n                </form>\r\n            </div>\r\n            <div className=\"reg-login__sign-in\">\r\n                <p className=\"reg-login__caption\">Уже зарегистрированы? &nbsp;</p>\r\n                <Link to=\"/sign-in\" className=\"reg-login__link\">Войти</Link>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Register;","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n    return (\r\n        <Route>\r\n            {() =>\r\n            props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-up\" />\r\n            }\r\n        </Route>\r\n    )\r\n}\r\n\r\nexport default ProtectedRoute;","export const BASE_URL = 'https://auth.nomoreparties.co';\r\n\r\nexport const register = (email, password) => {\r\n    return fetch(`${BASE_URL}/signup`, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({email, password})\r\n    })\r\n    .then(checkResponseStatus)\r\n}\r\n\r\nexport const authorize = (email, password) => {\r\n    return fetch(`${BASE_URL}/signin`, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({email, password})\r\n    })\r\n    .then(checkResponseStatus)\r\n    .then((data) => {\r\n        if (data.token) {\r\n            localStorage.setItem('token', data.token);\r\n            return data;\r\n        }\r\n    })\r\n}\r\n\r\nexport const getContent = (token) => {\r\n    return fetch(`${BASE_URL}/users/me`, {\r\n        method: 'GET',\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            'Authorization': `Bearer ${token}`\r\n        }\r\n    })\r\n    .then(checkResponseStatus)\r\n    .then(data => data)\r\n}\r\n\r\nfunction checkResponseStatus(res) {\r\n    if (res.ok) {\r\n        return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n}","export default __webpack_public_path__ + \"static/media/failure.df8eddf6.svg\";","export default __webpack_public_path__ + \"static/media/success.1b6082f8.svg\";","import React from 'react';\r\nimport failure from '../images/failure.svg';\r\nimport success from '../images/success.svg';\r\n\r\nfunction InfoTooltip(props) {\r\n    return (\r\n        <section className={`popup ${props.isOpen ? 'popup_opened' : ''}`}>\r\n            <div className=\"popup__container popup__container_type_infoTooltip\">\r\n                <button type=\"button\" className=\"popup__close\" aria-label=\"Закрыть попап\" onClick={props.onClose}></button>\r\n                <img src={props.isSuccess ? success : failure} alt={props.isSuccess ? \"Картинка с галочкой\" : \"Картинка с крестиком\"} className=\"popup__infoTooltip-image\" />\r\n                <p className=\"popup__infoTooltip-text\">{props.isSuccess ? \"Вы успешно зарегистрировались!\" : \"Что-то пошло не так! Попробуйте ещё раз.\"}</p>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default InfoTooltip;","import React from 'react';\nimport { Route, Switch, useHistory } from 'react-router-dom';\nimport '../index.css';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport PopupWithForm from './PopupWithForm';\nimport ImagePopup from './ImagePopup';\nimport { api } from '../utils/api';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport Login from './Login';\nimport Register from './Register';\nimport ProtectedRoute from './ProtectedRoute';\nimport * as auth from '../utils/auth';\nimport InfoTooltip from './InfoTooltip';\n\nfunction App() {\n  const [currentUser, setCurrentUser] = React.useState({})\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isImagePopupOpen, setIsImagePopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [userEmail, setUserEmail] = React.useState('');\n  const [isSuccess, setIsSuccess] = React.useState(true);\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = React.useState(false);\n  const history = useHistory();\n\n    React.useEffect(() => {\n        api.getUserInfo()\n        .then((data) => {\n            setCurrentUser(data);\n        })\n        .catch((err) => {\n            console.log(err);\n        })\n    }, [])\n\n    React.useEffect(() => {\n        api.getInitialCards()\n        .then(res => {\n            setCards(res)\n        })\n        .catch((err) => {\n            console.log(err);\n        })\n    }, [])\n\n    React.useEffect(() => {\n        const token = localStorage.getItem('token');\n        if (token) {\n            auth.getContent(token)\n            .then((data) => {\n                if (data) {\n                    setUserEmail(data.data.email);\n                    setLoggedIn(true);\n                    history.push('/');\n                }\n            })\n            .catch((err) => {\n                console.log(err);\n            })\n        }\n        // eslint-disable-next-line\n    }, [])\n\n    function handleCardLike(card) {\n        const isLiked = card.likes.some(i => i._id === currentUser._id);\n        api.putLike(card._id, isLiked)\n        .then((newCard) => {\n            setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n        })\n        .catch((err) => {\n            console.log(err);\n        })\n    }\n\n    function handleCardDelete(card) {\n        api.deleteCard(card._id)\n        .then(() => {\n            setCards((state) => state.filter(c => c._id !== card._id));\n        })\n        .catch((err) => {\n            console.log(err);\n        })\n    }\n\n    function handleEditProfileClick() {\n        setIsEditProfilePopupOpen(true);\n    }\n\n    function handleAddPlaceClick() {\n        setIsAddPlacePopupOpen(true);\n    }\n\n    function handleEditAvatarClick() {\n        setIsEditAvatarPopupOpen(true);\n    }\n\n    function closeAllPopups() {\n        setIsEditProfilePopupOpen(false);\n        setIsAddPlacePopupOpen(false);\n        setIsEditAvatarPopupOpen(false);\n        setIsImagePopupOpen(false);\n        setIsInfoTooltipOpen(false);\n        setSelectedCard({});\n    }\n\n    function handleCardClick (card) {\n        setSelectedCard(card);\n        setIsImagePopupOpen(true);\n    }\n\n    React.useEffect(() => {\n        const closeByEscape = (e) => {\n            if (e.key === 'Escape') {\n                closeAllPopups();\n            }\n        }\n\n        document.addEventListener('keydown', closeByEscape)\n\n        return () => document.removeEventListener('keydown', closeByEscape)\n    }, [])\n\n    function handleUpdateUser({name, about}) {\n        api.setUserInfo(name, about)\n        .then((data) => {\n            setCurrentUser(data);\n            closeAllPopups();\n        })\n        .catch((err) => {\n            console.log(err);\n        })\n    }\n\n    function handleUpdateAvatar({avatar}) {\n        api.setUserAvatar(avatar)\n        .then((data) => {\n            setCurrentUser(data);\n            closeAllPopups();\n        })\n        .catch((err) => {\n            console.log(err);\n        })\n    }\n\n    function handleAddPlaceSubmit({name, link}) {\n        api.addNewCard(name, link)\n        .then((newCard) => {\n            setCards([newCard, ...cards]);\n            closeAllPopups();\n        })\n        .catch((err) => {\n            console.log(err);\n        })\n    }\n\n    function handleLogin(email, password) {\n        auth.authorize(email, password)\n        .then((data) => {\n            if (data.token) {\n                setLoggedIn(true);\n                history.push('/');\n            }\n        })\n        .catch((err) => {\n            console.log(err);\n        })\n    }\n\n    function handleSignOut() {\n        localStorage.removeItem('token');\n        setLoggedIn(false);\n    }\n\n    function onRegister(email, password) {\n        auth.register(email, password)\n        .then(() => {\n            setIsSuccess(true);\n            history.push('/sign-in');\n        })\n        .catch((err) => {\n            console.log(err);\n            setIsSuccess(false);\n        })\n        .finally(() => setIsInfoTooltipOpen(true))\n    }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n        <div>  \n        <Header email={userEmail} onSignOut={handleSignOut}/>\n\n        <Switch>\n            <ProtectedRoute\n            exact path=\"/\"\n            loggedIn={loggedIn}\n            component={Main}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onEditAvatar={handleEditAvatarClick}\n            onCardClick={handleCardClick}\n            cards={cards}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n            />\n            \n            \n            <Route exact path=\"/sign-up\">\n                <Register onRegister={onRegister}/>\n            </Route>\n            \n            <Route exact path=\"/sign-in\">\n                <Login handleLogin={handleLogin}/>\n            </Route>\n            \n        </Switch>\n\n        <Footer />\n\n        <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\n        <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\n        <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit}/>\n            \n        <PopupWithForm title=\"Вы уверены?\" name=\"delete-card\" onClose={closeAllPopups} submitButtonText=\"Да\">\n        </PopupWithForm>\n\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} isOpen={isImagePopupOpen} />\n        <InfoTooltip isSuccess={isSuccess} isOpen={isInfoTooltipOpen} onClose={closeAllPopups} /> \n        </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}