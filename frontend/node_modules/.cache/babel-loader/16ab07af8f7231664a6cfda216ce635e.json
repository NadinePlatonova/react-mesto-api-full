{"ast":null,"code":"class Api {\n  constructor(options) {\n    this._baseUrl = options.baseUrl;\n    this._headers = options.headers;\n  }\n\n  getUserInfo() {\n    const url = `${this._baseUrl}/users/me`;\n    return fetch(url, {\n      headers: this._headers\n    }).then(this._checkResponseStatus);\n  }\n\n  setUserInfo(name, about) {\n    const url = `${this._baseUrl}/users/me`;\n    return fetch(url, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        about: about\n      })\n    }).then(this._checkResponseStatus);\n  }\n\n  addNewCard(name, link) {\n    const url = `${this._baseUrl}/cards`;\n    return fetch(url, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        link: link\n      })\n    }).then(this._checkResponseStatus);\n  }\n\n  getInitialCards() {\n    const url = `${this._baseUrl}/cards`;\n    return fetch(url, {\n      headers: this._headers\n    }).then(this._checkResponseStatus);\n  }\n\n  setUserAvatar(avatar) {\n    const url = `${this._baseUrl}/users/me/avatar`;\n    return fetch(url, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: avatar\n      })\n    }).then(this._checkResponseStatus);\n  }\n\n  deleteCard(cardId) {\n    const url = `${this._baseUrl}/cards/${cardId}`;\n    return fetch(url, {\n      method: 'DELETE',\n      headers: this._headers\n    }).then(this._checkResponseStatus);\n  }\n\n  putLike(cardId, isLiked) {\n    const url = `${this._baseUrl}/cards/likes/${cardId}`;\n    return fetch(url, {\n      method: isLiked ? 'DELETE' : 'PUT',\n      headers: this._headers\n    }).then(this._checkResponseStatus);\n  }\n\n  _checkResponseStatus(res) {\n    if (!res.ok) {\n      return Promise.reject(`Ошибка: ${res.status}`);\n    }\n\n    return res.json();\n  }\n\n}\n\nexport const api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-27',\n  headers: {\n    authorization: '362a2219-41f2-4a3b-84cc-680eb976a5f4',\n    'Content-Type': 'application/json'\n  }\n});","map":{"version":3,"sources":["C:/Users/user/dev/mesto-react/src/utils/api.js"],"names":["Api","constructor","options","_baseUrl","baseUrl","_headers","headers","getUserInfo","url","fetch","then","_checkResponseStatus","setUserInfo","name","about","method","body","JSON","stringify","addNewCard","link","getInitialCards","setUserAvatar","avatar","deleteCard","cardId","putLike","isLiked","res","ok","Promise","reject","status","json","api","authorization"],"mappings":"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","sourcesContent":["class Api {\r\n    constructor(options) {\r\n        this._baseUrl = options.baseUrl;\r\n        this._headers = options.headers;\r\n    }\r\n\r\n    getUserInfo() {\r\n        const url = `${this._baseUrl}/users/me`\r\n        return fetch(url, {\r\n            headers: this._headers\r\n        })\r\n        .then(this._checkResponseStatus);\r\n    }\r\n\r\n    setUserInfo(name, about) {\r\n        const url = `${this._baseUrl}/users/me`\r\n        return fetch(url, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: name,\r\n                about: about\r\n            })\r\n        })\r\n        .then(this._checkResponseStatus);\r\n    }\r\n\r\n    addNewCard(name, link) {\r\n        const url = `${this._baseUrl}/cards`\r\n        return fetch(url, {\r\n            method: 'POST',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: name,\r\n                link: link\r\n            })\r\n        })\r\n        .then(this._checkResponseStatus);\r\n    }\r\n\r\n    getInitialCards() {\r\n        const url = `${this._baseUrl}/cards`\r\n        return fetch(url, {\r\n            headers: this._headers\r\n        })\r\n        .then(this._checkResponseStatus);\r\n    }\r\n\r\n    setUserAvatar(avatar) {\r\n        const url = `${this._baseUrl}/users/me/avatar`\r\n        return fetch(url, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                avatar: avatar\r\n            })\r\n        })\r\n        .then(this._checkResponseStatus);\r\n    }\r\n\r\n    deleteCard(cardId) {\r\n        const url = `${this._baseUrl}/cards/${cardId}`\r\n        return fetch(url, {\r\n            method: 'DELETE',\r\n            headers: this._headers\r\n        })\r\n        .then(this._checkResponseStatus);\r\n    }\r\n\r\n    putLike(cardId, isLiked) {\r\n        const url = `${this._baseUrl}/cards/likes/${cardId}`\r\n        return fetch(url, {\r\n            method: isLiked ? 'DELETE' : 'PUT',\r\n            headers: this._headers\r\n        })\r\n        .then(this._checkResponseStatus);\r\n    }\r\n\r\n    _checkResponseStatus(res) {\r\n        if (!res.ok) {\r\n            return Promise.reject(`Ошибка: ${res.status}`);\r\n        }\r\n        return res.json();\r\n    }\r\n}\r\n\r\nexport const api = new Api({\r\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-27',\r\n    headers: {\r\n        authorization: '362a2219-41f2-4a3b-84cc-680eb976a5f4',\r\n        'Content-Type': 'application/json'\r\n    }\r\n})"]},"metadata":{},"sourceType":"module"}