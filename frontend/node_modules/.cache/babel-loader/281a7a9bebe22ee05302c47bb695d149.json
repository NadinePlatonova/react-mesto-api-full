{"ast":null,"code":"import _classCallCheck from\"C:/Users/user/dev/mesto-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/user/dev/mesto-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";var Api=/*#__PURE__*/function(){function Api(options){_classCallCheck(this,Api);this._baseUrl=options.baseUrl;this._headers=options.headers;}_createClass(Api,[{key:\"getUserInfo\",value:function getUserInfo(){var url=\"\".concat(this._baseUrl,\"/users/me\");return fetch(url,{headers:this._headers}).then(this._checkResponseStatus);}},{key:\"setUserInfo\",value:function setUserInfo(name,about){var url=\"\".concat(this._baseUrl,\"/users/me\");return fetch(url,{method:'PATCH',headers:this._headers,body:JSON.stringify({name:name,about:about})}).then(this._checkResponseStatus);}},{key:\"addNewCard\",value:function addNewCard(name,link){var url=\"\".concat(this._baseUrl,\"/cards\");return fetch(url,{method:'POST',headers:this._headers,body:JSON.stringify({name:name,link:link})}).then(this._checkResponseStatus);}},{key:\"getInitialCards\",value:function getInitialCards(){var url=\"\".concat(this._baseUrl,\"/cards\");return fetch(url,{headers:this._headers}).then(this._checkResponseStatus);}},{key:\"setUserAvatar\",value:function setUserAvatar(avatar){var url=\"\".concat(this._baseUrl,\"/users/me/avatar\");return fetch(url,{method:'PATCH',headers:this._headers,body:JSON.stringify({avatar:avatar})}).then(this._checkResponseStatus);}},{key:\"deleteCard\",value:function deleteCard(cardId){var url=\"\".concat(this._baseUrl,\"/cards/\").concat(cardId);return fetch(url,{method:'DELETE',headers:this._headers}).then(this._checkResponseStatus);}},{key:\"putLike\",value:function putLike(cardId,isLiked){var url=\"\".concat(this._baseUrl,\"/cards/likes/\").concat(cardId);return fetch(url,{method:isLiked?'DELETE':'PUT',headers:this._headers}).then(this._checkResponseStatus);}},{key:\"_checkResponseStatus\",value:function _checkResponseStatus(res){if(!res.ok){return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));}return res.json();}}]);return Api;}();export var api=new Api({baseUrl:'https://mesto.nomoreparties.co/v1/cohort-27',headers:{authorization:'362a2219-41f2-4a3b-84cc-680eb976a5f4','Content-Type':'application/json'}});","map":{"version":3,"sources":["C:/Users/user/dev/mesto-react/src/utils/api.js"],"names":["Api","options","_baseUrl","baseUrl","_headers","headers","url","fetch","then","_checkResponseStatus","name","about","method","body","JSON","stringify","link","avatar","cardId","isLiked","res","ok","Promise","reject","status","json","api","authorization"],"mappings":"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","sourcesContent":["class Api {\r\n    constructor(options) {\r\n        this._baseUrl = options.baseUrl;\r\n        this._headers = options.headers;\r\n    }\r\n\r\n    getUserInfo() {\r\n        const url = `${this._baseUrl}/users/me`\r\n        return fetch(url, {\r\n            headers: this._headers\r\n        })\r\n        .then(this._checkResponseStatus);\r\n    }\r\n\r\n    setUserInfo(name, about) {\r\n        const url = `${this._baseUrl}/users/me`\r\n        return fetch(url, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: name,\r\n                about: about\r\n            })\r\n        })\r\n        .then(this._checkResponseStatus);\r\n    }\r\n\r\n    addNewCard(name, link) {\r\n        const url = `${this._baseUrl}/cards`\r\n        return fetch(url, {\r\n            method: 'POST',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: name,\r\n                link: link\r\n            })\r\n        })\r\n        .then(this._checkResponseStatus);\r\n    }\r\n\r\n    getInitialCards() {\r\n        const url = `${this._baseUrl}/cards`\r\n        return fetch(url, {\r\n            headers: this._headers\r\n        })\r\n        .then(this._checkResponseStatus);\r\n    }\r\n\r\n    setUserAvatar(avatar) {\r\n        const url = `${this._baseUrl}/users/me/avatar`\r\n        return fetch(url, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                avatar: avatar\r\n            })\r\n        })\r\n        .then(this._checkResponseStatus);\r\n    }\r\n\r\n    deleteCard(cardId) {\r\n        const url = `${this._baseUrl}/cards/${cardId}`\r\n        return fetch(url, {\r\n            method: 'DELETE',\r\n            headers: this._headers\r\n        })\r\n        .then(this._checkResponseStatus);\r\n    }\r\n\r\n    putLike(cardId, isLiked) {\r\n        const url = `${this._baseUrl}/cards/likes/${cardId}`\r\n        return fetch(url, {\r\n            method: isLiked ? 'DELETE' : 'PUT',\r\n            headers: this._headers\r\n        })\r\n        .then(this._checkResponseStatus);\r\n    }\r\n\r\n    _checkResponseStatus(res) {\r\n        if (!res.ok) {\r\n            return Promise.reject(`Ошибка: ${res.status}`);\r\n        }\r\n        return res.json();\r\n    }\r\n}\r\n\r\nexport const api = new Api({\r\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-27',\r\n    headers: {\r\n        authorization: '362a2219-41f2-4a3b-84cc-680eb976a5f4',\r\n        'Content-Type': 'application/json'\r\n    }\r\n})"]},"metadata":{},"sourceType":"module"}