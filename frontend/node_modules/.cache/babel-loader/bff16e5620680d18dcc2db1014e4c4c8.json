{"ast":null,"code":"import _slicedToArray from\"C:/Users/user/dev/react-mesto-auth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import PopupWithForm from'./PopupWithForm';import CurrentUserContext from'../contexts/CurrentUserContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditProfilePopup(props){var currentUser=React.useContext(CurrentUserContext);var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),name=_React$useState2[0],setName=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),description=_React$useState4[0],setDescription=_React$useState4[1];React.useEffect(function(){setName(currentUser.name);setDescription(currentUser.about);},[currentUser,props.isOpen]);function handleSubmit(e){e.preventDefault();props.onUpdateUser({name:name,about:description});}function handleEditName(e){setName(e.target.value);}function handleEditDescription(e){setDescription(e.target.value);}return/*#__PURE__*/_jsx(PopupWithForm,{title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",name:\"edit\",isOpen:props.isOpen,onClose:props.onClose,submitButtonText:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\",onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup__container\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"popup__label\",children:[/*#__PURE__*/_jsx(\"input\",{value:name||\"\",onChange:handleEditName,type:\"text\",name:\"name\",id:\"owner-name\",placeholder:\"\\u0418\\u043C\\u044F\",className:\"popup__text popup__text_type_name\",required:true,minLength:\"2\",maxLength:\"40\"}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__error\",id:\"owner-name-error\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"popup__label\",children:[/*#__PURE__*/_jsx(\"input\",{value:description||\"\",onChange:handleEditDescription,type:\"text\",name:\"role\",id:\"owner-role\",placeholder:\"\\u041E \\u0441\\u0435\\u0431\\u0435\",className:\"popup__text popup__text_type_role\",required:true,minLength:\"2\",maxLength:\"200\"}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__error\",id:\"owner-role-error\"})]})]})});}export default EditProfilePopup;","map":{"version":3,"sources":["C:/Users/user/dev/react-mesto-auth/src/components/EditProfilePopup.js"],"names":["React","PopupWithForm","CurrentUserContext","EditProfilePopup","props","currentUser","useContext","useState","name","setName","description","setDescription","useEffect","about","isOpen","handleSubmit","e","preventDefault","onUpdateUser","handleEditName","target","value","handleEditDescription","onClose"],"mappings":"yJAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,CACA,MAAOC,CAAAA,kBAAP,KAA+B,gCAA/B,C,wFAEA,QAASC,CAAAA,gBAAT,CAA0BC,KAA1B,CAAiC,CAC7B,GAAMC,CAAAA,WAAW,CAAGL,KAAK,CAACM,UAAN,CAAiBJ,kBAAjB,CAApB,CACA,oBAAwBF,KAAK,CAACO,QAAN,CAAe,EAAf,CAAxB,oDAAOC,IAAP,qBAAaC,OAAb,qBACA,qBAAsCT,KAAK,CAACO,QAAN,CAAe,EAAf,CAAtC,qDAAOG,WAAP,qBAAoBC,cAApB,qBAEAX,KAAK,CAACY,SAAN,CAAgB,UAAM,CAClBH,OAAO,CAACJ,WAAW,CAACG,IAAb,CAAP,CACAG,cAAc,CAACN,WAAW,CAACQ,KAAb,CAAd,CACH,CAHD,CAGG,CAACR,WAAD,CAAcD,KAAK,CAACU,MAApB,CAHH,EAKA,QAASC,CAAAA,YAAT,CAAsBC,CAAtB,CAAyB,CACrBA,CAAC,CAACC,cAAF,GAEAb,KAAK,CAACc,YAAN,CAAmB,CACfV,IAAI,CAAJA,IADe,CAEfK,KAAK,CAAEH,WAFQ,CAAnB,EAIH,CAED,QAASS,CAAAA,cAAT,CAAwBH,CAAxB,CAA2B,CACvBP,OAAO,CAACO,CAAC,CAACI,MAAF,CAASC,KAAV,CAAP,CACH,CAED,QAASC,CAAAA,qBAAT,CAA+BN,CAA/B,CAAiC,CAC7BL,cAAc,CAACK,CAAC,CAACI,MAAF,CAASC,KAAV,CAAd,CACH,CAGD,mBACI,KAAC,aAAD,EACA,KAAK,CAAC,2HADN,CAEA,IAAI,CAAC,MAFL,CAGA,MAAM,CAAEjB,KAAK,CAACU,MAHd,CAIA,OAAO,CAAEV,KAAK,CAACmB,OAJf,CAKA,gBAAgB,CAAC,wDALjB,CAMA,QAAQ,CAAER,YANV,uBAOA,aAAK,SAAS,CAAC,kBAAf,wBACQ,eAAO,SAAS,CAAC,cAAjB,wBACI,cAAO,KAAK,CAAEP,IAAI,EAAI,EAAtB,CAA0B,QAAQ,CAAEW,cAApC,CAAoD,IAAI,CAAC,MAAzD,CAAgE,IAAI,CAAC,MAArE,CAA4E,EAAE,CAAC,YAA/E,CAA4F,WAAW,CAAC,oBAAxG,CAA8G,SAAS,CAAC,mCAAxH,CAA4J,QAAQ,KAApK,CAAqK,SAAS,CAAC,GAA/K,CAAmL,SAAS,CAAC,IAA7L,EADJ,cAEI,aAAM,SAAS,CAAC,cAAhB,CAA+B,EAAE,CAAC,kBAAlC,EAFJ,GADR,cAKQ,eAAO,SAAS,CAAC,cAAjB,wBACI,cAAO,KAAK,CAAET,WAAW,EAAI,EAA7B,CAAiC,QAAQ,CAAEY,qBAA3C,CAAkE,IAAI,CAAC,MAAvE,CAA8E,IAAI,CAAC,MAAnF,CAA0F,EAAE,CAAC,YAA7F,CAA0G,WAAW,CAAC,iCAAtH,CAA+H,SAAS,CAAC,mCAAzI,CAA6K,QAAQ,KAArL,CAAsL,SAAS,CAAC,GAAhM,CAAoM,SAAS,CAAC,KAA9M,EADJ,cAEI,aAAM,SAAS,CAAC,cAAhB,CAA+B,EAAE,CAAC,kBAAlC,EAFJ,GALR,GAPA,EADJ,CAoBH,CAED,cAAenB,CAAAA,gBAAf","sourcesContent":["import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup(props) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const [name, setName] = React.useState('');\r\n    const [description, setDescription] = React.useState('');\r\n\r\n    React.useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n    }, [currentUser, props.isOpen])\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        props.onUpdateUser({\r\n            name,\r\n            about: description\r\n        });\r\n    }\r\n\r\n    function handleEditName(e) {\r\n        setName(e.target.value);\r\n    }\r\n\r\n    function handleEditDescription(e){\r\n        setDescription(e.target.value);\r\n    }\r\n\r\n\r\n    return (\r\n        <PopupWithForm\r\n        title=\"Редактировать профиль\"\r\n        name=\"edit\"\r\n        isOpen={props.isOpen}\r\n        onClose={props.onClose}\r\n        submitButtonText=\"Сохранить\"\r\n        onSubmit={handleSubmit}>\r\n        <div className=\"popup__container\">\r\n                <label className=\"popup__label\">\r\n                    <input value={name || \"\"} onChange={handleEditName} type=\"text\" name=\"name\" id=\"owner-name\" placeholder=\"Имя\" className=\"popup__text popup__text_type_name\" required minLength=\"2\" maxLength=\"40\" />\r\n                    <span className=\"popup__error\" id=\"owner-name-error\"></span>\r\n                </label>\r\n                <label className=\"popup__label\">\r\n                    <input value={description || \"\"} onChange={handleEditDescription} type=\"text\" name=\"role\" id=\"owner-role\" placeholder=\"О себе\" className=\"popup__text popup__text_type_role\" required minLength=\"2\" maxLength=\"200\" />\r\n                    <span className=\"popup__error\" id=\"owner-role-error\"></span>\r\n                </label>          \r\n        </div>\r\n    </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditProfilePopup;"]},"metadata":{},"sourceType":"module"}